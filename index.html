<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DONGULI | 咚咕哩</title>
    <style>
        :root {
            /* 基礎色調 */
            --bg-color: #FDFBF7;
            --text-color: #4A4643;
            --accent-color: #8C7B6C;
            --nav-bg: rgba(253, 251, 247, 0.95);
            
            /* 字體設定 */
            --font-main: "Helvetica Neue", Helvetica, Arial, "PingFang TC", "Microsoft JhengHei", sans-serif;
            --font-serif: "Times New Roman", Times, "Songti TC", serif;
            
            /* 尺寸變數 */
            --nav-height: 80px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.8;
            letter-spacing: 0.08em;
            padding-top: calc(var(--nav-height) + 20px);
        }

        /* --- 導覽列 --- */
        nav {
            position: fixed; top: 0; left: 0; width: 100%;
            height: var(--nav-height);
            background-color: var(--nav-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 40px;
            box-shadow: 0 1px 0px rgba(0,0,0,0.05);
        }

        .logo { 
            font-family: var(--font-serif); font-size: 1.8rem; font-weight: bold; 
            cursor: pointer; color: #2c2a29; letter-spacing: 0.1em; 
        }

        .hamburger { display: none; background: none; border: none; font-size: 1.5rem; color: var(--text-color); cursor: pointer; }
        .nav-menu { display: flex; gap: 30px; align-items: center; height: 100%; }

        .nav-btn {
            background: none; border: none; font-size: 0.95rem; 
            font-family: var(--font-main); cursor: pointer; color: #888; 
            position: relative; padding: 5px 0; letter-spacing: 0.05em;
        }
        .nav-btn:hover, .nav-btn.active, .dropdown:hover .dropbtn { color: var(--text-color); }
        .nav-btn::after {
            content: ''; position: absolute; bottom: 0; left: 0; width: 0; height: 1px;
            background-color: var(--text-color); transition: width 0.3s ease;
        }
        .nav-btn:hover::after, .nav-btn.active::after { width: 100%; }

        /* Dropdown */
        .dropdown { position: relative; height: 100%; display: flex; align-items: center; }
        .dropdown-content {
            display: block; position: absolute; top: 75px; left: 50%;
            transform: translateX(-50%) translateY(20px);
            background-color: #fff; min-width: 220px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            padding: 10px 0; z-index: 1002; border-radius: 6px;
            opacity: 0; pointer-events: none; transition: all 0.3s ease;
            border: 1px solid rgba(0,0,0,0.05);
        }
        .dropdown:hover .dropdown-content { opacity: 1; pointer-events: auto; transform: translateX(-50%) translateY(0); }
        .dropdown-item { padding: 12px 25px; font-size: 0.9rem; cursor: pointer; transition: 0.2s; text-align: center; color: #666; }
        .dropdown-item:hover { color: var(--accent-color); background-color: #fafafa; }
        .shop-all-item { color: var(--accent-color); font-weight: bold; border-bottom: 1px solid #eee; margin-bottom: 5px; }

        @media (max-width: 768px) {
            nav { padding: 0 20px; }
            .hamburger { display: block; }
            .nav-menu {
                position: fixed; top: var(--nav-height); left: 0; width: 100%; height: calc(100vh - var(--nav-height));
                background-color: #FDFBF7; flex-direction: column; justify-content: flex-start;
                padding-top: 40px; gap: 30px; transform: translateX(100%); transition: transform 0.4s ease;
            }
            .nav-menu.open { transform: translateX(0); }
            .dropdown-content { position: static; transform: none; box-shadow: none; background: none; opacity: 1; pointer-events: auto; width: 100%; border: none; }
            .dropdown { display: block; width: 100%; text-align: center; height: auto; }
            .dropbtn { width: 100%; text-align: center; margin-bottom: 15px; display: inline-block; }
        }

        /* --- 頁面通用 --- */
        .page-section { display: none; width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 20px 60px; animation: fadeIn 0.5s ease; }
        .page-section.active-page { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* 首頁特定樣式 */
        .hero-section { display: flex; flex-direction: column; align-items: center; text-align: center; }
        .home-hero-container {
            width: 100%; max-width: 900px; margin: 0 auto 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08); border-radius: 4px; overflow: hidden; background-color: #eee; line-height: 0;
        }
        .home-hero-img { width: 100%; height: auto; display: block; object-fit: cover; }
        .hero-text-block { max-width: 600px; margin: 0 auto; }
        .hero-title { font-family: var(--font-serif); font-size: 2.5rem; color: #333; margin-bottom: 10px; }
        .hero-subtitle { font-size: 1rem; color: #888; letter-spacing: 0.1em; margin-bottom: 30px; }


        /* --- 修正 1：Banner 樣式 (滿版 + 文字右下) --- */
        /* 移除 max-width 限制，讓 banner 滿版 */
        #dynamic-pages-root .page-section { max-width: 100%; padding: 0 0 60px 0; }
        /* 其他頁面維持限制 */
        #page-home, #page-about, #page-available { max-width: 1200px; padding: 0 20px 60px; }

        .category-banner {
            width: 100%;
            height: 350px; /* 稍微加高一點 */
            position: relative;
            margin-bottom: 50px;
            overflow: hidden;
            background-color: #E0E0E0;
            /* 移除圓角和邊框，回歸滿版 */
            border-radius: 0;
            border: none;
        }
        .category-banner img { width: 100%; height: 100%; object-fit: cover; }
        .banner-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,0.4)); /* 漸層改為只在下方加深 */
        }

        /* 文字移到右下角 */
        .banner-text-content {
            position: absolute; 
            bottom: 40px; 
            right: 40px; /* 改為靠右 */
            color: #fff; z-index: 2;
            text-shadow: 0 2px 8px rgba(0,0,0,0.5);
            text-align: right; /* 文字靠右對齊 */
        }
        .banner-text-content h2 { font-size: 2.2rem; font-family: var(--font-serif); margin: 0; }
        .banner-text-content p { margin: 5px 0 0; font-size: 1.1rem; opacity: 0.9; letter-spacing: 0.1em; }
        
        /* Banner 下方的控制按鈕容器 */
        .banner-controls-container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }


        /* --- 修正 2：Product Card (無框風格 + 正方形照片) --- */
        .product-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 60px 30px; /* 無框時垂直間距加大 */
            /* 如果是在動態頁面，需要限制 grid 寬度 */
            max-width: 1200px; margin: 0 auto; padding: 0 20px;
        }

        .product-card {
            /* 移除外框、背景和陰影 */
            background: transparent;
            padding: 0;
            border-radius: 0;
            box-shadow: none;
            text-align: center;
            position: relative;
        }

        /* 移除整張卡片的懸浮移動 */
        .product-card:hover { transform: none; box-shadow: none; }

        .image-placeholder {
            width: 100%;
            aspect-ratio: 1/1; /* 強制正方形 */
            background: #F2F0EB;
            margin-bottom: 18px;
            overflow: hidden;
            border-radius: 4px; /* 照片本身保留一點點圓角 */
        }
        /* 僅保留照片的懸浮放大效果 */
        .image-placeholder img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s ease; }
        .product-card:hover .image-placeholder img { transform: scale(1.05); }
        
        .product-name { font-size: 1.05rem; margin: 10px 0 5px; color: #333; letter-spacing: 0.05em; }
        .product-code { font-size: 0.8rem; color: #aaa; margin-bottom: 8px; font-family: monospace; }
        .price { color: var(--accent-color); font-weight: 500; }
        .status {
            font-size: 0.75rem; padding: 4px 10px; border: 1px solid #ddd;
            border-radius: 20px; display: inline-block; margin-top: 12px; color: #999;
        }
        .status.available { border-color: #2E7D32; color: #2E7D32; }


        /* About & Footer */
        .about-content { max-width: 800px; margin: 0 auto; text-align: center; padding-top: 20px; }
        .about-gallery { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-top: 50px; }
        .about-photo { aspect-ratio: 1/1; background: #ddd; border-radius: 4px; overflow: hidden; }
        .about-photo img { width: 100%; height: 100%; object-fit: cover; }

        .toggle-btn {
            background: none; border: 1px solid var(--accent-color);
            color: var(--accent-color); padding: 8px 20px; border-radius: 30px;
            cursor: pointer; transition: 0.3s;
        }
        .toggle-btn:hover, .toggle-btn.active { background: var(--accent-color); color: #fff; }
        .controls { display: flex; justify-content: flex-end; margin-bottom: 40px; }

        footer { text-align: center; margin-top: 80px; padding: 40px 0; border-top: 1px solid #E0DDD5; color: #999; font-size: 0.8rem; }
    </style>
</head>
<body>

    <nav>
        <div class="logo" onclick="switchPage('home')">DONGULI</div>
        <button class="hamburger" onclick="toggleMenu()">✕</button>
        <div class="nav-menu" id="nav-menu">
            <button class="nav-btn active" onclick="switchPage('home')" id="btn-home">Home</button>
            <button class="nav-btn" onclick="switchPage('about')" id="btn-about">About</button>
            <div class="dropdown">
                <button class="nav-btn dropbtn" id="btn-shop">Shop</button>
                <div class="dropdown-content" id="shop-dropdown-content"></div>
            </div>
        </div>
    </nav>

    <div id="page-home" class="page-section active-page">
        <div class="hero-section">
            <div class="hero-text-block" style="margin-bottom: 20px;">
                <h1 class="hero-title">Wabi-Sabi Life</h1>
                <p class="hero-subtitle">自然・陶・生活</p>
            </div>
            <div class="home-hero-container" id="home-hero-root"></div>
            <div class="hero-text-block">
                <p style="font-style: italic; color:#666; margin-bottom: 30px;">"一顆橡實，靜靜落地，等待著屬於自己的季節。"</p>
                <button class="toggle-btn" onclick="switchPage('available')">前往現貨區 (Shop Available)</button>
            </div>
        </div>
    </div>

    <div id="page-about" class="page-section">
        <div class="about-content">
            <h2 style="font-family: var(--font-serif); margin-bottom: 10px;">About DONGULI</h2>
            <p style="color:#888; margin-bottom: 40px;">品牌故事</p>
            <div style="text-align: left; line-height: 2.2; color: #555; display: inline-block;">
                <p>DONGULI 來自於對自然的觀察與熱愛。</p>
                <p>我們相信器皿不只是盛裝的工具，更是生活情感的延伸。</p>
                <p>在陶土的粗糙與釉色的溫潤之間，尋找一種平靜的平衡。</p>
            </div>
            <div class="about-gallery" id="about-gallery-root"></div>
        </div>
    </div>

    <div id="page-available" class="page-section">
        <div style="text-align:center; margin-bottom: 60px;">
            <h2 style="font-family: var(--font-serif); color: #2E7D32;">Available Items</h2>
            <p style="color:#999; margin-top:5px;">現貨選購</p>
        </div>
        <div class="product-grid" id="grid-available"></div>
    </div>

    <div id="dynamic-pages-root"></div>

    <footer><p>© 2024 DONGULI. All Rights Reserved.</p></footer>

    <script>
        const siteConfigCSV = `type,key,image\nHomeHero, Main, assets/home_hero.jpg\nBanner, Hand-Carved (手雕系列), assets/banner_hc.jpg\nBanner, Tableware (食器系列), assets/banner_ht.jpg\nBanner, Round-Cap (圓帽系列), assets/banner_rc.jpg\nBanner, Special (限定系列), assets/banner_sp.jpg\nBanner, Lifestyle (生活選物), assets/banner_ls.jpg\nBanner, Konishii Hayata (小西氏系列), assets/banner_kh.jpg\nAbout, Photo 1, assets/about_1.jpg\nAbout, Photo 2, assets/about_2.jpg\nAbout, Photo 3, assets/about_3.jpg\nAbout, Photo 4, assets/about_4.jpg`;
        const productDataCSV = `category,code,name,price,status,image\nHand-Carved (手雕系列), HC-1, 手雕咚咕哩, 1380, SOLD OUT, assets/hc1.jpg\nHand-Carved (手雕系列), HC-2, 手雕咚咕哩, 1380, SOLD OUT, assets/hc2.jpg\nHand-Carved (手雕系列), HC-3, 手雕咚咕哩, 1380, SOLD OUT, assets/hc3.jpg\nTableware (食器系列), HT-1, 蓋碗/食器, 1480, SOLD OUT, assets/ht1.jpg\nRound-Cap (圓帽系列), RC-1, 圓帽咚咕哩, 1480, SOLD OUT, assets/rc1.jpg\nSpecial (限定系列), SUN-1, 夏日薄荷, 1280, SOLD OUT, assets/sun1.jpg\nLifestyle (生活選物), FW-1, 一起去摘花吧, 1480, SOLD OUT, assets/fw1.jpg`;

        function parseCSV(t){const n=t.trim().split("\n"),e=n[0].split(",").map(t=>t.trim()),r=[];for(let t=1;t<n.length;t++){const a=n[t].split(",");if(a.length===e.length){const t={};e.forEach((n,e)=>t[n]=a[e].trim()),r.push(t)}}return r}
        const products=parseCSV(productDataCSV),configs=parseCSV(siteConfigCSV);let isHideSoldOut=!1;
        function getBannerImage(t){const n=configs.find(n=>"Banner"===n.type&&n.key===t);return n?n.image:""}
        function initWebsite(){
            const t=document.getElementById("dynamic-pages-root"),n=document.getElementById("about-gallery-root"),e=document.getElementById("shop-dropdown-content"),r=document.getElementById("home-hero-root"),a=configs.find(t=>"HomeHero"===t.type),i=a?a.image:"",o=document.createElement("img");
            o.className="home-hero-img",o.src=i,o.onerror=()=>{r.innerHTML='<div style="height:300px; display:flex; align-items:center; justify-content:center; color:#aaa;">(Home Image Not Found)</div>'},i&&r.appendChild(o);
            configs.filter(t=>"About"===t.type).forEach(t=>{const e=document.createElement("div");e.className="about-photo",e.innerHTML=`<img src="${t.image}" onerror="this.style.display='none'">`,n.appendChild(e)});
            const s=document.createElement("div");s.className="dropdown-item shop-all-item",s.innerText="Shop All (現貨)",s.onclick=()=>switchPage("available"),e.appendChild(s);
            const c=[...new Set(products.map(t=>t.category))];
            c.forEach((n,r)=>{const a="cat-"+r,i=document.createElement("div");i.className="dropdown-item",i.innerText=n.split("(")[0],i.onclick=()=>switchPage(a),e.appendChild(i);const o=getBannerImage(n),s=o?`<img src="${o}" onerror="this.style.display='none'">`:"",c=document.createElement("div");c.id="page-"+a,c.className="page-section",c.innerHTML=`
                <div class="category-banner">${s}<div class="banner-overlay"></div><div class="banner-text-content"><h2>${n.split("(")[0]}</h2><p>${n.includes("(")?n.split("(")[1].replace(")",""):""}</p></div></div>
                <div class="banner-controls-container"><div class="controls"><button class="toggle-btn" onclick="toggleStock(this)">隱藏售完 (Hide Sold Out)</button></div><div class="product-grid" id="grid-${a}"></div></div>
            `,t.appendChild(c),renderCategoryProducts(a,n)}),renderAvailablePage()}
        function renderCategoryProducts(t,n){const e=document.getElementById("grid-"+t);e.innerHTML="";products.filter(t=>t.category===n).forEach(t=>{if(isHideSoldOut&&"SOLD OUT"===t.status)return;e.appendChild(createProductCard(t))})}
        function renderAvailablePage(){const t=document.getElementById("grid-available");t.innerHTML="";const n=products.filter(t=>"SOLD OUT"!==t.status);if(0===n.length){t.innerHTML='<p style="grid-column:1/-1; text-align:center; color:#999; margin-top:30px;">目前沒有現貨 / Out of Stock</p>';return}n.forEach(n=>t.appendChild(createProductCard(n,!0)))}
        function createProductCard(t,n=!1){const e=document.createElement("article");e.className="product-card";const r="SOLD OUT"===t.status,a=r?"status":"status available",i=t.image.includes(".")?`<img src="${t.image}" onerror="this.parentNode.innerText='${t.code}'">`:t.code;return e.innerHTML=`<div class="image-placeholder">${i}</div><div class="product-name">${t.name}</div><div class="product-code">${t.code}</div><div class="price">NT$ ${t.price}</div><div class="${a}">${t.status}</div>`,e}
        function switchPage(t){document.querySelectorAll(".page-section").forEach(t=>t.classList.remove("active-page"));const n=document.getElementById("page-"+t);n&&n.classList.add("active-page"),document.querySelectorAll(".nav-btn").forEach(t=>t.classList.remove("active")),"home"===t?document.getElementById("btn-home").classList.add("active"):"about"===t?document.getElementById("btn-about").classList.add("active"):document.getElementById("btn-shop").classList.add("active"),document.getElementById("nav-menu").classList.remove("open"),window.scrollTo(0,0)}
        function toggleMenu(){document.getElementById("nav-menu").classList.toggle("open")}
        function toggleStock(t){isHideSoldOut=!isHideSoldOut,t.classList.toggle("active");const n=[...new Set(products.map(t=>t.category))];n.forEach((t,e)=>renderCategoryProducts("cat-"+e,t))}
        initWebsite();
    </script>
</body>
</html>